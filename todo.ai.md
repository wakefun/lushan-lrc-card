# todo

- [x] 我需要做一个一个歌词播放的PWA应用，主要面向移动端的手机用户，播放标准的lrc歌词，不需要播放歌曲，便于演唱会现场的弱网环境下使用，提前缓存db.json中的数据到页面中。一个离线可用的歌词本，首页是一个歌手选择页面，使用水墨风格,根据不同歌手的歌曲数量，山的大小也不一样。点击乐队，直接进入歌词卡片页面，播放歌词，支持手动上下滑动调节进度。左右滑动则切换该乐队的歌曲。要有卡片切换的动画。基于我的需求，告诉我项目需要使用什么那些框架，主要的技术逻辑和难点是什么，不要直接生成代码，只需要规划任务，并更新到 task.md中



## 实施阶段

需求分析和拆解在task.md中，完成下方任务。每一个Phase都必须和codex进行讨论分析，并以codex为准，gemini负责页面绘制。

### Phase 1: 项目基础
- [ ] 初始化 Vite + React + TS 项目
- [ ] 安装依赖：vite-plugin-pwa, framer-motion, zustand, tailwindcss, idb-keyval
- [ ] 配置 PWA manifest
- [ ] 创建数据类型定义（Artist, Song, LyricLine）
- [ ] 实现 LRC 解析工具函数
- [ ] 实现数据存储服务（IndexedDB 读写封装）

### Phase 2: 首页（歌手选择）
- [ ] 歌手列表布局
- [ ] 水墨山水 SVG 组件（大小随歌曲数量变化）
- [ ] SVG 滤镜实现水墨效果
- [ ] 点击歌手进入歌词页

### Phase 3: 歌词卡片页
- [ ] 全屏卡片布局（歌名 + 歌词区域）
- [ ] 歌词渲染，高亮当前行
- [ ] 垂直手势：拖动调整歌词进度
- [ ] 水平手势：左右滑动切换歌曲
- [ ] 卡片切换动画（AnimatePresence）

### Phase 4: PWA 与性能
- [ ] 配置 Service Worker 预缓存静态资源
- [ ] 实现双保险数据加载（SW Cache → IndexedDB fallback）
- [ ] 添加离线提示 UI
- [ ] Screen Wake Lock API（防止屏幕熄灭）

### Phase 5: 视觉打磨
- [ ] 纸张纹理背景
- [ ] 滑动物理效果调优（阻尼/弹簧）
- [ ] 夜间模式

